!function(e,t){"use strict";var n=t.module("input.tips",["ng"]);n.directive("tips",["$interval","$http","$compile",function(e,n,i){return{restrict:"A",replace:!1,scope:!1,transclude:!1,link:function(s,l,c,a){var p,d=!0,r=l.attr("tips-href");if(t.isUndefined(r)||0==r.length)return void console.warn("need link to data in tips-href");s.selected_index=-1,s.tips={},s.show_helper=!1;var o=t.element('<div class="tips tips--street" ng-class="show_helper == 1 ? \'open\' : \'\'"><ul><li ng-repeat="(i, street) in tip" ng-click="selStreetTip(street)" ng-class="street_selected_index == i ? \'selected\' : \'\'">{{street}}</li></ul></div>');s.$applyAsync(function(){l.after(o),i(o.contents())(s)}),s.selStreetTip=function(e){l[0].value=e,s.tips={},d=!1},s.$watch("tips",function(e){Object.keys(e).length>0?o.addClass("open"):o.removeClass("open")}),l.bind("blur",function(e){}),l.bind("input",function(t){return p&&e.cancel(p),""==l[0].value&&(s.tips={}),d?(s.tips={},void(!l[0].value||l[0].value.length<2||(p=e(function(){n.post(r,{value:l[0].value}).success(function(e){s.tips=angilar.isObject(e)?e:{},s.selected_index=-1}).error(function(e){s.tips={}})},300,1)))):void(d=!0)}),l.bind("keydown",function(e){if(!(Object.keys(s.tips).length<1))switch(e.keyCode){case 38:s.selected_index>0&&s.selected_index--,s.selected_index>=0&&(l[0].value=s.tips[s.selected_index]),d=!1,s.$applyAsync();break;case 40:s.selected_index<s.tip.length-1&&s.selected_index++,l[0].value=s.tip[s.selected_index],d=!1,s.$applyAsync();break;case 13:s.$applyAsync(function(){s.tip={}}),e.preventDefault(),e.stopPropagation();break;case 32:s.tips={},s.selected_index=-1}})}}}])}(window,window.angular);
//# sourceMappingURL=input-tips.min.js.map